{# Journals table page. #}

{% extends "base.html" %}

{% block head_title %}Journals{% end %}
{% block body_title %}
<span class="glyphicon glyphicon-book"></span>
Journals
{% end %}

{% block main_content %}
<div class="row">
  <div class="col-md-12">
    <table id="journals" class="table table-striped table-condensed">
      <thead>
	<tr>
	  <th>Title</th>
	  <th>ISSN</th>
	  <th>Articles</th>
	</tr>
      </thead>
      <tbody>
	{% for journal in journals %}
	<tr>
	  <td>
	    <a href="{{ reverse_url('journal', journal['title']) }}">
	      <span class="glyphicon glyphicon-book"></span>
	      {{ journal['title'] }}
	    </a>
	  </td>
	  <td>{{ journal['issn'] }}</td>
	  <td><span class="badge">{{ journal['count'] }}</span></td>
	</tr>
	{% end %}
      </tbody>
    </table>
  </div>
</div>
{% end %} {# block main_content #}

{% block alt_format %}
<p>
  <a href="{{ reverse_url('journals_json') }}">
    <img src="{{ static_url('json.png') }}">
    JSON
  </a>
</p>
{% end %} {# block alt_format #}

{% block javascript_code %}
<script>
  $(function() {
    $("#journals").DataTable( {
      "pagingType": "full_numbers",
      "order": [[2, "desc"]],
    });
  });
</script>
{% end %}
