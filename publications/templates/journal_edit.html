{# Journal edit page. #}

{% extends "base.html" %}

{% block head_title %}
Edit journal {{ journal['title'] }}
{% end %}

{% block body_title %}
<span class="glyphicon glyphicon-edit"></span>
<span class="glyphicon glyphicon-book"></span>
Edit journal {{ journal['title'] }}
{% end %} {# block body_title #}

{% block main_content %}
<form action="{{ reverse_url('journal_edit', journal['title']) }}"
      role="form" class="form-horizontal"
      method="POST">
  {% module xsrf_form_html() %}
  <input type="hidden" name="_rev" value="{{ journal['_rev'] }}">

    <div class="form-group has-feedback">
    <label class="control-label col-md-1" for="title">Title</label>
    <div class="col-md-8">
      <input type="text" name="title" id="title"
             class="form-control"
	     value="{{ journal.get('title') or '' }}">
      <span class="glyphicon glyphicon-star text-danger form-control-feedback"></span>
    </div>
  </div>

  <div class="form-group has-feedback">
    <label class="control-label col-md-1" for="issn">ISSN</label>
    <div class="col-md-4">
      <input type="text" name="issn" id="issn"
             class="form-control"
	     value="{{ journal.get('issn') or '' }}">
    </div>
  </div>

  <div class="form-group has-feedback">
    <label class="control-label col-md-1" for="issn-l">ISSN-L</label>
    <div class="col-md-4">
      <input type="text" name="issn-l" id="issn-l"
             class="form-control"
	     value="{{ journal.get('issn-l') or '' }}">
    </div>
  </div>

  <div class="form-group">
    <div class="col-md-3 col-md-offset-1">
      <button type="submit" class="btn btn-success btn-block">
	<span class="glyphicon glyphicon-save"></span>
	Save
      </button>
    </div>
  </div>

</form>
{% end %} {# block main_content #}

{% block meta_content %}
<a href="{{ reverse_url('journal', journal['title']) }}"
   role="button" class="btn btn-default btn-block">
  <span class="glyphicon glyphicon-remove-circle"></span>
  Cancel
</a>
{% end %} {# block meta_content #}
