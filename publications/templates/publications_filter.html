{# Fragment for filtering the selection of publications. #}

{# By year. #}
<div class="form-group">
  <label class="control-label col-sm-1" for="years">Years</label>
  <div class="col-sm-3">
    <select class="form-control" id="years" name="years" multiple>
      {% for y, c in year_counts %}
      {% if y == year %}
      <option selected value="{{ y }}">{{ y }} ({{ c }})</option>
      {% else %}
      <option value="{{ y }}">{{ y }} ({{ c }})</option>
      {% end %}
      {% end %}
    </select>
  </div>
  <div class="col-sm-6 col-sm-offset-2 help-block">
    Filter publications based on publication year.
    <br>
    This filter is not applied if none are selected.
    <br>
    Multiple select allowed. Hold ctrl or shift (or drag with the mouse)
    to select more than one.
  </div>
</div>

{# By labels. #}
<div class="form-group">
  <label class="control-label col-sm-1" for="labels">Labels</label>
  <div class="col-sm-5">
    <select class="form-control" size="{{ max(2, min(len(all_labels), 12)) }}"
	    id="labels" name="labels" multiple>
      {% for label in all_labels %}
      {% if label in labels %}
      <option selected value="{{ label }}">{{ label }}</option>
      {% else %}
      <option value="{{ label }}">{{ label }}</option>
      {% end %}
      {% end %}
    </select>
  </div>
  <div class="col-sm-6 help-block">
    Filter publications based on the assigned labels.
    <br>
    This filter is not applied if none are selected.
    <br>
    Multiple select allowed. Hold ctrl or shift (or drag with the mouse)
    to select more than one.
  </div>
</div>

{# By temporal labels, if so configured. #}
{% if settings['TEMPORAL_LABELS'] %}
<div class="form-group">
  <label class="control-label col-sm-1" for="active">Labels active year</label>
  <div class="col-sm-3">
    <select class="form-control" id="active" name="active">
      <option value="" selected>Any</option>
      <option>Current</option>
      {% for y in utils.years()[:-1] %}
      <option>{{ y }}</option>
      {% end %}
    </select>
  </div>
  <div class="col-sm-6 col-sm-offset-2 help-block">
    Filter publications based on label activity during the selected
    year. If a publication has no label active during the given
    year, it will not be output.
    <br>
    <strong>NOTE:</strong> If this filter set to a specific year,
    then most likely the filter "Year" above should be set to the
    same year to yield meaningful results.
  </div>
</div>
{% end %}
