{# Publications CSV setup page. #}

{% extends "base.html" %}

{% block head_title %}Download Publications CSV{% end %}
{% block body_title %}
<span class="glyphicon glyphicon-download-alt"></span>
Download Publications CSV
{% end %}

{% block main_content %}
<form action="{{ reverse_url('publications_csv') }}"
      role="form" class="form-horizontal"
      method="POST">
  {% module xsrf_form_html() %}

  {% include 'publications_filter.html' %}
  {% include 'publications_parameters.html' %}

  {# Additional CSV-specific output parameters. #}
  <div class="form-group">
    <label class="control-label col-sm-1" for="delimiter">Delimiter</label>
    <div class="col-sm-3">
      <div class="radio">
	<label><input type="radio" name="delimiter" value="comma" checked>Comma</label>
      </div>
      <div class="radio">
	<label><input type="radio" name="delimiter" value="semi-colon">Semi-colon</label>
      </div>
    </div>
    <div class="col-sm-6 col-sm-offset-2 help-block">
      The delimiter separating the columns in the CSV file.
    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-1" for="encoding">Character encoding</label>
    <div class="col-sm-3">
      <div class="radio">
	<label><input type="radio" name="encoding" value="utf-8" checked>UTF-8</label>
      </div>
      <div class="radio">
	<label><input type="radio" name="encoding" value="iso-8859-1">ISO-8859-1</label>
      </div>
    </div>
    <div class="col-sm-6 col-sm-offset-2 help-block">
      The character encoding used in the CSV file.
      <br>
      Microsoft Excel on the 2011 version of Apple OSX has a known bug which
      hopefully can be circumvented using the ISO-8859-1 character encoding.
    </div>
  </div>

  <div class="form-group">
    <div class="col-md-3">
      <button type="submit" class="btn btn-success btn-block">
	<span class="glyphicon glyphicon-download-alt"></span>
	Download
      </button>
    </div>
  </div>

</form>
{% end %} {# block main_content #}
